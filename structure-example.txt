.
├── flake.nix         # Flake entry point: defines inputs and outputs
├── flake.lock        # Lock file for reproducible dependencies
├── README.md         # Documentation!
├── hosts/            # Host-specific configurations
│   ├── common/         # NixOS modules common to MOST hosts (optional, can be in ./modules/nixos)
│   │   ├── default.nix   # Imports other common modules
│   │   ├── base.nix      # Base packages, settings
│   │   ├── users.nix     # User definitions
│   │   └── ...
│   ├── my-laptop/      # Configuration for 'my-laptop'
│   │   ├── default.nix   # Main NixOS configuration for this host (imports others)
│   │   ├── configuration.nix # Alternative name for default.nix
│   │   ├── hardware-configuration.nix # Usually generated by nixos-generate-config
│   │   └── disko.nix     # Disko configuration specific to this host
│   ├── my-server/      # Configuration for 'my-server'
│   │   ├── default.nix
│   │   ├── hardware-configuration.nix
│   │   └── disko.nix
│   └── ...             # Other hosts
├── modules/          # Reusable configuration modules (can be split)
│   ├── nixos/        # Reusable NixOS modules (e.g., services, desktop environments)
│   │   ├── desktop/
│   │   │   ├── default.nix
│   │   │   └── kde.nix
│   │   │   └── gnome.nix
│   │   ├── services/
│   │   │   ├── default.nix
│   │   │   └── webserver.nix
│   │   └── ...
│   └── home-manager/ # Reusable Home-Manager modules (e.g., shells, editors)
│       ├── common/
│       │   ├── default.nix # Imports other common HM modules
│       │   ├── git.nix
│       │   └── shell.nix
│       ├── editors/
│       │   ├── default.nix
│       │   └── neovim.nix
│       └── ...
├── home/             # User-specific Home-Manager entry points & configurations
│   ├── alice/        # Configs primarily for user 'alice'
│   │   ├── home.nix    # Main HM config for alice (imports modules from ./modules/home-manager)
│   │   ├── desktop.nix # Specific desktop settings for alice
│   │   └── ...
│   ├── bob/          # Configs primarily for user 'bob'
│   │   └── home.nix
│   └── ...
├── lib/              # Custom helper functions (optional)
│   └── default.nix
├── overlays/         # Nixpkgs overlays (optional)
│   └── default.nix
├── packages/         # Custom packages defined in the flake (optional)
│   └── my-script/
│       └── default.nix
└── secrets/          # Secret management files (e.g., using sops-nix or agenix) - **ADD TO .gitignore**
    └── secrets.yaml
